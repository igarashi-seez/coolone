!function(e,t){"use strict";function i(t){return P.formatter=l,L=e("body"),k=j(),O=!1!==k,O||(k="transitionend.boxer"),e(this).on("click.boxer",e.extend({},P,t||{}),o)}function o(i){if(void 0===A.$boxer){var o=e(this),r=i.data.$object,n=o[0].href?o[0].href||"":"",d=o[0].hash?o[0].hash||"":"",l=n.toLowerCase().split(".").pop().split(/\#|\?/),s=l[0],c=o.data("boxer-type")||"",p="image"===c||e.inArray(s,i.data.extensions)>-1||"data:image"===n.substr(0,10),b=n.indexOf("youtube.com/embed")>-1||n.indexOf("player.vimeo.com/video")>-1,w="url"===c||!p&&!b&&"http"===n.substr(0,4)&&!d,W="element"===c||!p&&!b&&!w&&"#"===d.substr(0,1),y=void 0!==r;if(W&&(n=d),e("#boxer").length>1||!(p||b||w||W||y))return;if(T(i),A=e.extend({},{$window:e(t),$body:e("body"),$target:o,$object:r,visible:!1,resizeTimer:null,touchTimer:null,gallery:{active:!1},isMobile:E||i.data.mobile,isAnimating:!0,oldContentHeight:0,oldContentWidth:0},i.data),A.margin*=2,A.type=p?"image":b?"video":"element",p||b){var M=A.$target.data("gallery")||A.$target.attr("rel");void 0!==M&&!1!==M&&(A.gallery.active=!0,A.gallery.id=M,A.gallery.$items=e("a[data-gallery= "+A.gallery.id+"], a[rel= "+A.gallery.id+"]"),A.gallery.index=A.gallery.$items.index(A.$target),A.gallery.total=A.gallery.$items.length-1)}var I="";if(A.isMobile||(I+='<div id="boxer-overlay" class="'+A.customClass+'"></div>'),I+='<div id="boxer" class="loading animating '+A.customClass,A.fixed&&(I+=" fixed"),A.isMobile&&(I+=" mobile"),w&&(I+=" iframe"),(W||y)&&(I+=" inline"),I+='">',I+='<span class="boxer-close">'+A.labels.close+"</span>",I+='<span class="boxer-loading"></span>',I+='<div class="boxer-container">',I+='<div class="boxer-content">',(p||b)&&(I+='<div class="boxer-meta">',A.gallery.active?(I+='<div class="boxer-control previous">'+A.labels.previous+"</div>",I+='<div class="boxer-control next">'+A.labels.next+"</div>",I+='<p class="boxer-position"',A.gallery.total<1&&(I+=' style="display: none;"'),I+=">",I+='<span class="current">'+(A.gallery.index+1)+"</span> "+A.labels.count+' <span class="total">'+(A.gallery.total+1)+"</span>",I+="</p>",I+='<div class="boxer-caption gallery">'):I+='<div class="boxer-caption">',I+=A.formatter.apply(A.$body,[A.$target]),I+="</div></div>"),I+="</div></div></div>",A.$body.append(I),A.$overlay=e("#boxer-overlay"),A.$boxer=e("#boxer"),A.$container=A.$boxer.find(".boxer-container"),A.$content=A.$boxer.find(".boxer-content"),A.$meta=A.$boxer.find(".boxer-meta"),A.$position=A.$boxer.find(".boxer-position"),A.$caption=A.$boxer.find(".boxer-caption"),A.$controls=A.$boxer.find(".boxer-control"),A.paddingVertical=A.isMobile?A.$boxer.find(".boxer-close").outerHeight()/2:parseInt(A.$boxer.css("paddingTop"),10)+parseInt(A.$boxer.css("paddingBottom"),10),A.paddingHorizontal=A.isMobile?0:parseInt(A.$boxer.css("paddingLeft"),10)+parseInt(A.$boxer.css("paddingRight"),10),A.contentHeight=A.$boxer.outerHeight()-A.paddingVertical,A.contentWidth=A.$boxer.outerWidth()-A.paddingHorizontal,A.controlHeight=A.$controls.outerHeight(),g(),A.gallery.active&&f(),A.$window.on("resize.boxer",S.resize).on("keydown.boxer",v),A.$body.on("touchstart.boxer click.boxer","#boxer-overlay, #boxer .boxer-close",a).on("touchmove.boxer",T),A.gallery.active&&A.$boxer.on("touchstart.boxer click.boxer",".boxer-control",x),A.$boxer.on(k,function(t){T(t),e(t.target).is(A.$boxer)&&(A.$boxer.off(k),p?h(n):b?m(n):w?$(n):W?u(n):y?H(A.$object):e.error("BOXER: '"+n+"' is not valid."))}),L.addClass("boxer-open"),O||A.$boxer.trigger(k),y)return A.$boxer}}function a(t){T(t),void 0!==A.$boxer&&(A.$boxer.on(k,function(t){T(t),e(t.target).is(A.$boxer)&&(A.$boxer.off(k),A.$overlay.remove(),A.$boxer.remove(),A={})}).addClass("animating"),L.removeClass("boxer-open"),O||A.$boxer.trigger(k),z(A.resizeTimer),A.$window.off("resize.boxer").off("keydown.boxer"),A.$body.off(".boxer").removeClass("boxer-open"),A.gallery.active&&A.$boxer.off(".boxer"),A.isMobile&&"image"===A.type&&A.gallery.active&&A.$container.off(".boxer"),A.$window.trigger("close.boxer"))}function r(){var t=d();A.isMobile||A.duration;A.isMobile||A.$controls.css({marginTop:(A.contentHeight-A.controlHeight-A.metaHeight)/2}),!A.visible&&A.isMobile&&A.gallery.active&&A.$content.on("touchstart.boxer",".boxer-image",y),(A.isMobile||A.fixed)&&A.$body.addClass("boxer-open"),A.$boxer.on(k,function(t){T(t),e(t.target).is(A.$boxer)&&(A.$boxer.off(k),A.$container.on(k,function(t){T(t),e(t.target).is(A.$container)&&(A.$container.off(k),A.$boxer.removeClass("animating"),A.isAnimating=!1)}),A.$boxer.removeClass("loading"),O||A.$content.trigger(k),A.visible=!0,A.callback.apply(A.$boxer),A.$window.trigger("open.boxer"),A.gallery.active&&b())}),A.isMobile||A.$boxer.css({height:A.contentHeight+A.paddingVertical,width:A.contentWidth+A.paddingHorizontal,top:A.fixed?0:t.top});var i=A.oldContentHeight!==A.contentHeight||A.oldContentWidth!==A.contentWidth;!A.isMobile&&O&&i||A.$boxer.trigger(k),A.oldContentHeight=A.contentHeight,A.oldContentWidth=A.contentWidth}function n(){if(A.visible&&!A.isMobile){var e=d();A.$controls.css({marginTop:(A.contentHeight-A.controlHeight-A.metaHeight)/2}),A.$boxer.css({height:A.contentHeight+A.paddingVertical,width:A.contentWidth+A.paddingHorizontal,top:A.fixed?0:e.top})}}function g(){var e=d();A.$boxer.css({top:A.fixed?0:e.top})}function d(){if(A.isMobile)return{left:0,top:0};var e={left:(A.$window.width()-A.contentWidth-A.paddingHorizontal)/2,top:A.top<=0?(A.$window.height()-A.contentHeight-A.paddingVertical)/2:A.top};return!0!==A.fixed&&(e.top+=A.$window.scrollTop()),e}function l(e){var t=e.attr("title");return void 0!==t&&""!==t.trim()?'<p class="caption">'+t.trim()+"</p>":""}function h(t){A.$image=e("<img />"),A.$image.load(function(){A.$image.off("load, error");var e=C(A.$image);A.naturalHeight=e.naturalHeight,A.naturalWidth=e.naturalWidth,A.retina&&(A.naturalHeight/=2,A.naturalWidth/=2),A.$content.prepend(A.$image),""===A.$caption.html()?A.$caption.hide():A.$caption.show(),s(),r()}).error(W).attr("src",t).addClass("boxer-image"),(A.$image[0].complete||4===A.$image[0].readyState)&&A.$image.trigger("load")}function s(){var e=0;for(A.windowHeight=A.viewportHeight=A.$window.height()-A.paddingVertical,A.windowWidth=A.viewportWidth=A.$window.width()-A.paddingHorizontal,A.contentHeight=1/0,A.contentWidth=1/0,A.imageMarginTop=0,A.imageMarginLeft=0;A.contentHeight>A.viewportHeight&&e<2;)A.imageHeight=0===e?A.naturalHeight:A.$image.outerHeight(),A.imageWidth=0===e?A.naturalWidth:A.$image.outerWidth(),A.metaHeight=0===e?0:A.metaHeight,0===e&&(A.ratioHorizontal=A.imageHeight/A.imageWidth,A.ratioVertical=A.imageWidth/A.imageHeight,A.isWide=A.imageWidth>A.imageHeight),A.imageHeight<A.minHeight&&(A.minHeight=A.imageHeight),A.imageWidth<A.minWidth&&(A.minWidth=A.imageWidth),A.isMobile?(A.$meta.css({width:A.windowWidth}),A.metaHeight=A.$meta.outerHeight(!0),A.contentHeight=A.viewportHeight-A.paddingVertical,A.contentWidth=A.viewportWidth-A.paddingHorizontal,c(),A.imageMarginTop=(A.contentHeight-A.targetImageHeight-A.metaHeight)/2,A.imageMarginLeft=(A.contentWidth-A.targetImageWidth)/2):(0===e&&(A.viewportHeight-=A.margin+A.paddingVertical,A.viewportWidth-=A.margin+A.paddingHorizontal),A.viewportHeight-=A.metaHeight,c(),A.contentHeight=A.targetImageHeight,A.contentWidth=A.targetImageWidth),A.$meta.css({width:A.contentWidth}),A.$image.css({height:A.targetImageHeight,width:A.targetImageWidth,marginTop:A.imageMarginTop,marginLeft:A.imageMarginLeft}),A.isMobile||(A.metaHeight=A.$meta.outerHeight(!0),A.contentHeight+=A.metaHeight),e++}function c(){var e=A.isMobile?A.contentHeight-A.metaHeight:A.viewportHeight,t=A.isMobile?A.contentWidth:A.viewportWidth;A.isWide?(A.targetImageWidth=t,A.targetImageHeight=A.targetImageWidth*A.ratioHorizontal,A.targetImageHeight>e&&(A.targetImageHeight=e,A.targetImageWidth=A.targetImageHeight*A.ratioVertical)):(A.targetImageHeight=e,A.targetImageWidth=A.targetImageHeight*A.ratioVertical,A.targetImageWidth>t&&(A.targetImageWidth=t,A.targetImageHeight=A.targetImageWidth*A.ratioHorizontal)),(A.targetImageWidth>A.imageWidth||A.targetImageHeight>A.imageHeight)&&(A.targetImageHeight=A.imageHeight,A.targetImageWidth=A.imageWidth),(A.targetImageWidth<A.minWidth||A.targetImageHeight<A.minHeight)&&(A.targetImageWidth<A.minWidth?(A.targetImageWidth=A.minWidth,A.targetImageHeight=A.targetImageWidth*A.ratioHorizontal):(A.targetImageHeight=A.minHeight,A.targetImageWidth=A.targetImageHeight*A.ratioVertical))}function m(t){A.$videoWrapper=e('<div class="boxer-video-wrapper" />'),A.$video=e('<iframe class="boxer-video" seamless="seamless" />'),A.$video.attr("src",t).addClass("boxer-video").prependTo(A.$videoWrapper),A.$content.prepend(A.$videoWrapper),p(),r()}function p(){A.windowHeight=A.viewportHeight=A.contentHeight=A.$window.height()-A.paddingVertical,A.windowWidth=A.viewportWidth=A.contentWidth=A.$window.width()-A.paddingHorizontal,A.videoMarginTop=0,A.videoMarginLeft=0,A.isMobile?(A.$meta.css({width:A.windowWidth}),A.metaHeight=A.$meta.outerHeight(!0),A.viewportHeight-=A.metaHeight,A.targetVideoWidth=A.viewportWidth,A.targetVideoHeight=A.targetVideoWidth*A.videoRatio,A.targetVideoHeight>A.viewportHeight&&(A.targetVideoHeight=A.viewportHeight,A.targetVideoWidth=A.targetVideoHeight/A.videoRatio),A.videoMarginTop=(A.viewportHeight-A.targetVideoHeight)/2,A.videoMarginLeft=(A.viewportWidth-A.targetVideoWidth)/2):(A.viewportHeight=A.windowHeight-A.margin,A.viewportWidth=A.windowWidth-A.margin,A.targetVideoWidth=A.videoWidth>A.viewportWidth?A.viewportWidth:A.videoWidth,A.targetVideoWidth<A.minWidth&&(A.targetVideoWidth=A.minWidth),A.targetVideoHeight=A.targetVideoWidth*A.videoRatio,A.contentHeight=A.targetVideoHeight,A.contentWidth=A.targetVideoWidth),A.$meta.css({width:A.contentWidth}),A.$videoWrapper.css({height:A.targetVideoHeight,width:A.targetVideoWidth,marginTop:A.videoMarginTop,marginLeft:A.videoMarginLeft}),A.isMobile||(A.metaHeight=A.$meta.outerHeight(!0),A.contentHeight=A.targetVideoHeight+A.metaHeight)}function b(t){var i="";A.gallery.index>0&&(i=A.gallery.$items.eq(A.gallery.index-1).attr("href"),i.indexOf("youtube.com/embed")<0&&i.indexOf("player.vimeo.com/video")<0&&e('<img src="'+i+'">')),A.gallery.index<A.gallery.total&&(i=A.gallery.$items.eq(A.gallery.index+1).attr("href"),i.indexOf("youtube.com/embed")<0&&i.indexOf("player.vimeo.com/video")<0&&e('<img src="'+i+'">'))}function x(t){T(t);var i=e(this);A.isAnimating||i.hasClass("disabled")||(A.isAnimating=!0,A.gallery.index+=i.hasClass("next")?1:-1,A.gallery.index>A.gallery.total&&(A.gallery.index=A.gallery.total),A.gallery.index<0&&(A.gallery.index=0),A.$container.on(k,function(t){if(T(t),e(t.target).is(A.$container)){A.$container.off(k),void 0!==A.$image&&A.$image.remove(),void 0!==A.$videoWrapper&&A.$videoWrapper.remove(),A.$target=A.gallery.$items.eq(A.gallery.index),A.$caption.html(A.formatter.apply(A.$body,[A.$target])),A.$position.find(".current").html(A.gallery.index+1);var i=A.$target.attr("href");i.indexOf("youtube.com/embed")>-1||i.indexOf("player.vimeo.com/video")>-1?m(i):h(i),f()}}),A.$boxer.addClass("loading animating"),O||A.$content.trigger(k))}function f(){A.$controls.removeClass("disabled"),0===A.gallery.index&&A.$controls.filter(".previous").addClass("disabled"),A.gallery.index===A.gallery.total&&A.$controls.filter(".next").addClass("disabled")}function v(e){!A.gallery.active||37!==e.keyCode&&39!==e.keyCode?27===e.keyCode&&A.$boxer.find(".boxer-close").trigger("click"):(T(e),A.$controls.filter(37===e.keyCode?".previous":".next").trigger("click"))}function u(t){H(e(t).find(">:first-child").clone())}function $(t){t+=t.indexOf("?")>-1?"&"+P.requestKey+"=true":"?"+P.requestKey+"=true",H(e('<iframe class="boxer-iframe" src="'+t+'" />'))}function H(e){A.$content.append(e),w(e),r()}function w(e){A.windowHeight=A.$window.height()-A.paddingVertical,A.windowWidth=A.$window.width()-A.paddingHorizontal,A.objectHeight=e.outerHeight(!0),A.objectWidth=e.outerWidth(!0),A.targetHeight=A.targetHeight||A.$target.data("boxer-height"),A.targetWidth=A.targetWidth||A.$target.data("boxer-width"),A.maxHeight=A.windowHeight<0?P.minHeight:A.windowHeight,A.isIframe=e.is("iframe"),A.objectMarginTop=0,A.objectMarginLeft=0,A.isMobile||(A.windowHeight-=A.margin,A.windowWidth-=A.margin),A.contentHeight=void 0!==A.targetHeight?A.targetHeight:A.isIframe||A.isMobile?A.windowHeight:A.objectHeight,A.contentWidth=void 0!==A.targetWidth?A.targetWidth:A.isIframe||A.isMobile?A.windowWidth:A.objectWidth,(A.isIframe||A.isObject)&&A.isMobile?(A.contentHeight=A.windowHeight,A.contentWidth=A.windowWidth):A.isObject&&(A.contentHeight=A.contentHeight>A.windowHeight?A.windowHeight:A.contentHeight,A.contentWidth=A.contentWidth>A.windowWidth?A.windowWidth:A.contentWidth)}function W(t){var i=e('<div class="boxer-error"><p>Error Loading Resource</p></div>');A.type="element",A.$meta.remove(),A.$image.off("load, error"),H(i)}function y(e){if(T(e),z(A.touchTimer),!A.isAnimating){var t=void 0!==e.originalEvent.targetTouches?e.originalEvent.targetTouches[0]:null;A.xStart=t?t.pageX:e.clientX,A.leftPosition=0,A.touchMax=1/0,A.touchMin=-1/0,A.edge=.25*A.contentWidth,0===A.gallery.index&&(A.touchMax=0),A.gallery.index===A.gallery.total&&(A.touchMin=0),A.$boxer.on("touchmove.boxer",M).one("touchend.boxer",I)}}function M(e){var t=void 0!==e.originalEvent.targetTouches?e.originalEvent.targetTouches[0]:null;A.delta=A.xStart-(t?t.pageX:e.clientX),A.delta>20&&T(e),A.canSwipe=!0;var i=-A.delta;i<A.touchMin&&(i=A.touchMin,A.canSwipe=!1),i>A.touchMax&&(i=A.touchMax,A.canSwipe=!1),A.$image.css({transform:"translate3D("+i+"px,0,0)"}),A.touchTimer=V(A.touchTimer,300,function(){I(e)})}function I(e){T(e),z(A.touchTimer),A.$boxer.off("touchmove.boxer touchend.boxer"),A.delta&&(A.$boxer.addClass("animated"),A.swipe=!1,A.canSwipe&&(A.delta>A.edge||A.delta<-A.edge)?(A.swipe=!0,A.delta<=A.leftPosition?A.$image.css({transform:"translate3D("+A.contentWidth+"px,0,0)"}):A.$image.css({transform:"translate3D("+-A.contentWidth+"px,0,0)"})):A.$image.css({transform:"translate3D(0,0,0)"}),A.swipe&&A.$controls.filter(A.delta<=A.leftPosition?".previous":".next").trigger("click"),V(A.resetTimer,A.duration,function(){A.$boxer.removeClass("animated")}))}function C(e){var t=e[0],i=new Image;return void 0!==t.naturalHeight?{naturalHeight:t.naturalHeight,naturalWidth:t.naturalWidth}:"img"===t.tagName.toLowerCase()&&(i.src=t.src,{naturalHeight:i.height,naturalWidth:i.width})}function T(e){e.preventDefault&&(e.stopPropagation(),e.preventDefault())}function V(e,t,i){return z(e),setTimeout(i,t)}function z(e){e&&(clearTimeout(e),e=null)}function j(){var e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},t=document.createElement("div");for(var i in e)if(e.hasOwnProperty(i)&&i in t.style)return e[i];return!1}var k,O,L=null,A={},E=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(t.navigator.userAgent||t.navigator.vendor||t.opera),P={callback:e.noop,customClass:"",extensions:["jpg","sjpg","jpeg","png","gif"],fixed:!1,formatter:e.noop,labels:{close:"Close",count:"of",next:"Next",previous:"Previous"},margin:50,minHeight:100,minWidth:100,mobile:!1,opacity:.75,retina:!1,requestKey:"boxer",top:0,videoRatio:.5625,videoWidth:600},S={close:function(){void 0!==A.$boxer&&(A.$boxer.off(".boxer"),A.$overlay.trigger("click"))},defaults:function(t){return P=e.extend(P,t||{}),"object"==typeof this&&e(this)},destroy:function(){return e(this).off(".boxer")},resize:function(t){return void 0!==A.$boxer&&("object"!=typeof t&&(A.targetHeight=arguments[0],A.targetWidth=arguments[1]),"element"===A.type?w(A.$content.find(">:first-child")):"image"===A.type?s():"video"===A.type&&p(),n()),e(this)}};e.fn.boxer=function(e){return S[e]?S[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?this:i.apply(this,arguments)},e.boxer=function(i,a){return S[i]?S[i].apply(t,Array.prototype.slice.call(arguments,1)):i instanceof e?o.apply(t,[{data:e.extend({$object:i},P,a||{})}]):void 0}}(jQuery,window);